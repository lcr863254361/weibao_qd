
### 2016-06-28 潘端端

1.**MODEL_GRID_VIEW**

| 表名 | MODEL_GRID_VIEW |
|:-----|:----------------|
| 操作 | 新增            |
| 字段 | EXTENDCLASS     |
| 类型 | VARCHAR2(100)   |

2. 修复数据库中乱码
3. 三元功能点拆分
---

### 2016-07-03 潘端端

1. 增加系統工具管理、日志管理
2. 分配至相應管理員
---

### 2016-07-03 潘端端

1.表訪問權限中增加用戶自定義過濾條件

ALTER TABLE ORIENTTDM.CWM_SYS_PARTOPERATIONS ADD USERFILTER VARCHAR2(4000) NULL;

2.修改表访问权限字段长度
ALTER TABLE ORIENTTDM.CWM_SYS_PARTOPERATIONS MODIFY COLUMN_ID VARCHAR2(200) DEFAULT NULL;

---

### 2016-07-06 潘端端

1.修改view序列，与table通过序列区间区分
DROP SEQUENCE ORIENTTDM.SEQ_CWM_VIEWS;
CREATE SEQUENCE  "ORIENTTDM"."SEQ_CWM_VIEWS"  MINVALUE 5000000 MAXVALUE 999999999999999999999999999 INCREMENT BY 1 START WITH 5000000 CACHE 20 NOORDER  NOCYCLE

---

### 2016-07-11 潘端端
1.表访问权限控制字段粒度严格，增加新增、修改、详细、导出字段控制
ALTER TABLE ORIENTTDM.CWM_SYS_PARTOPERATIONS ADD ADD_COLUMN_ID VARCHAR2(400) NULL;
ALTER TABLE ORIENTTDM.CWM_SYS_PARTOPERATIONS ADD DETAIL_COLUMN_ID VARCHAR2(400) NULL;
ALTER TABLE ORIENTTDM.CWM_SYS_PARTOPERATIONS ADD MODIFY_COLUMN_ID VARCHAR2(400) NULL;
ALTER TABLE ORIENTTDM.CWM_SYS_PARTOPERATIONS ADD EXPORT_COLUMN_ID VARCHAR2(400) NULL;

---

### 2016-07-11 潘端端
1.字段用途长度扩大
ALTER TABLE ORIENTTDM.CWM_TAB_COLUMNS MODIFY PURPOSE VARCHAR2(200) DEFAULT NULL;

### 2016-07-14 潘端端
1.数据库合并

---
### 2016-07-18 潘端端
1.增加字段表中字段最大长度
ALTER TABLE ORIENTTDM.CWM_TAB_COLUMNS MODIFY UNIT VARCHAR2(500);
2.增加模型数据与单位映射表
CREATE TABLE CWM_MODEL_DATA_UNIT
(
    ID INT PRIMARY KEY NOT NULL,
    MODEL_ID VARCHAR2(255) NOT NULL,
    DATA_ID VARCHAR2(255) NOT NULL,
    S_COLUMN_NAME VARCHAR2(255) NOT NULL,
    COLUMN_VALUE VARCHAR2(255) NOT NULL,
    UNIT_ID VARCHAR2(255) NOT NULL
);

CREATE SEQUENCE "SEQ_CWM_MODEL_DATA_UNIT"  MINVALUE 1 MAXVALUE 999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE;


### 2016-08-22 潘端端
1.合并协同模型与数据模型

### 2016-08-23 潘端端
1.删除旧的审批与模型数据绑定表
    DROP TABLE ORIENTTDM.AUDIT_FLOW_DATA_BIND;
    DROP TABLE ORIENTTDM.AUDIT_FLOW_DATA_RELATION;
2.增加审批任务设置表
    CREATE TABLE AUDIT_FLOW_TASK_SETTING
    (
        TASK_NAME VARCHAR2(38) NOT NULL,
        ID VARCHAR2(38) PRIMARY KEY NOT NULL,
        FORM_ID VARCHAR2(38),
        BELONG_AUDIT_BIND VARCHAR2(38),
        CUSTOM_PATH VARCHAR2(200),
        CAN_ASSIGN_OTHER NUMBER
    );

    CREATE SEQUENCE SEQ_AUDIT_FLOW_TASK_SETTING START WITH 1 MAXVALUE 999999999999999999999999999 MINVALUE 1 NOCYCLE NOCACHE NOORDER;

### 2016-08-31 潘端端
1.删除组件数据表
    DROP TABLE CWM_COMPONENT_RELATIONDATA;
2.增加组件关系表
   CREATE TABLE CWM_COMPONENT_MODEL
   (
       id VARCHAR2(38) PRIMARY KEY NOT NULL,
       COMPONENT_ID NUMBER NOT NULL,
       MODEL_ID VARCHAR2(38) NOT NULL,
       DATA_ID VARCHAR2(38) NOT NULL
   );
   CREATE SEQUENCE SEQ_CWM_COMPONENT_MODEL START WITH 1 MAXVALUE 999999999999999999999999999 MINVALUE 1 NOCYCLE NOCACHE NOORDER;

### 2016-09-02 潘端端
1.修改协同模型

### 2016-09-06 潘端端
1.增加审批流程意见表
CREATE TABLE ORIENTTDM.AUDIT_FLOW_OPINION_SETTING
(
    ID VARCHAR2(38) PRIMARY KEY NOT NULL,
    TASK_NAME VARCHAR2(38) NOT NULL,
    PD_ID VARCHAR2(38) NOT NULL,
    OPINION VARCHAR2(500)
);

CREATE SEQUENCE SEQ_AUDIT_FLOW_OPINION_SETTING START WITH 1 MAXVALUE 999999999999999999999999999 MINVALUE 1 NOCYCLE NOCACHE NOORDER;

### 2016-09-06 潘端端
1.审批意见增加任务绑定字段
ALTER TABLE ORIENTTDM.JBPM4_OPINION ADD FLOWTASKID VARCHAR2(38) NOT NULL;

### 2016-09-14 潘端端
1.任务绑定信息中增加流程任务ID字段
ALTER TABLE ORIENTTDM.TASK_DATA_RELATION ADD FLOW_TASK_ID VARCHAR2(38) NOT NULL;

### 2016-09-14 潘端端
1.模型表单与模型表格模板采用假删除
    ALTER TABLE ORIENTTDM.MODEL_GRID_VIEW ADD ISVALID NUMBER DEFAULT 1 NOT NULL;
    ALTER TABLE ORIENTTDM.MODEL_FORM_VIEW ADD ISVALID NUMBER DEFAULT 1 NOT NULL;

### 2016-09-26 潘端端
1.创建历史任务表，为多种类型历史任务提供统一访问入口
    CREATE TABLE ORIENTTDM.CWM_SYS_HIS_TASK
    (
        ID VARCHAR2(38) PRIMARY KEY NOT NULL,
        TASK_ID VARCHAR2(38) NOT NULL,
        TASK_NAME VARCHAR2(38) NOT NULL,
        TASK_TYPE VARCHAR2(38) NOT NULL,
        TASK_ASSIGNER VARCHAR2(38) NOT NULL,
        TASK_BEGIN_TIME VARCHAR2(38) NOT NULL,
        TASK_END_TIME VARCHAR2(38) NOT NULL,
        TASK_BIND_DATA BLOB NOT NULL
    );
    CREATE SEQUENCE SEQ_CWM_SYS_HIS_TASK START WITH 1 MAXVALUE 999999999999999999999999999 MINVALUE 1 NOCYCLE NOCACHE NOORDER;

### 2016-09-26 潘端端
1.流程模型绑定增加备注信息，展现审批任务时展现
ALTER TABLE ORIENTTDM.AUDIT_FLOW_MODEL_BIND ADD REMARK VARCHAR2(100) NULL;
### 2016-09-26 潘端端
1.设计数据增加创建源，从共享数据创建 还是 从个人数据创建
ALTER TABLE CWM_DATAOBJECT ADD CREATE_BY INT NULL;
ALTER TABLE CWM_DATAOBJECT_OLDVERSION ADD CREATE_BY INT NULL;

